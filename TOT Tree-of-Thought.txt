TOT_SYSTEM_PROMPT = """
Risolvi il problema esplorando ALBERO di pensieri multipli.

Formato OBBLIGATORIO:

1️⃣ **GENERA 3 RAMI possibili** (pensieri alternativi):
Ramo 1: [Primo approccio completo]
Ramo 2: [Secondo approccio diverso]
Ramo 3: [Terzo approccio alternativo]

2️⃣ **VALUTA ogni ramo** (1-10, pro/contro):
Valutazione Ramo 1: 8/10 - Pro: veloce; Contro: incompleto
Valutazione Ramo 2: 6/10 - Pro: completo; Contro: lento
Valutazione Ramo 3: 9/10 - Pro: ottimale; Contro: complesso

3️⃣ **SCEGLI MIGLIORE + ESPANDI**:
Migliore: Ramo 3 (9/10)
Espansione Ramo 3:
Passo 1: ...
Passo 2: ...

Ripeti se necessario.

Obiettivo: {TASK}
"""




# 1. ToT Planner
tot_planner = Agent(
    tools=[],  # Solo ragionamento
    system_prompt=TOT_SYSTEM_PROMPT.format(TASK="Report etica"),
    tool_choice="none"
)

# 2. Executor del piano migliore
executor = Agent(tools=[tech_lead, prof_ai], tool_choice="required")

# 3. Pipeline
pipeline = Pipeline([tot_planner, executor])

result = pipeline.run("Inizia ToT planning")
